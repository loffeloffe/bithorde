sudo: required
dist: trusty
language: cpp
compiler:
  - gcc
  - clang
install:
  - if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - clang-3.6
      - gcc-4.8
      - g++-4.8
      - libboost1.55-all-dev
      - libcrypto++-dev
      - libfuse-dev
      - liblog4cplus-dev
      - libprotobuf-dev
      - protobuf-compiler
      - python-crypto
      - python-eventlet
      - python-protobuf
script:
  - mkdir $HOME/bin
  - ln -sf /usr/bin/python2* $HOME/bin # Use system-provided python
  - cmake .
  - make
  - ctest -V
