--- clients/bhupload.cpp
+++ clients/bhupload.cpp
@@ -93,12 +93,13 @@
                _ioSvc.stop();
        } else {
                fs::path& p = _files.front();
-               _currentFile.open(p.c_str(), ifstream::in | ifstream::binary);
-               _currentFile.exceptions(ios_base::badbit);
-               if (optLink)
+               if (optLink) {
                        _currentAsset = new UploadAsset(_client, p);
-               else
+               } else {
+                       _currentFile.open(p.c_str(), ifstream::in | ifstream::binary);
+                       _currentFile.exceptions(ios_base::badbit);
                        _currentAsset = new UploadAsset(_client, fs::file_size(p));
+               }
                _currentAsset->statusUpdate.connect([=](const bithorde::AssetStatus& status) {
                        onStatusUpdate(status);
                });
